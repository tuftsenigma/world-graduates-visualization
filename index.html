<script src="//cdnjs.cloudflare.com/ajax/libs/d3/3.5.3/d3.min.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/topojson/1.6.9/topojson.min.js"></script>
<script src="datamaps.world.min.js"></script>
<link rel="stylesheet" type="text/css" href="http://fonts.googleapis.com/css?family=Roboto+Condensed">

<style>
    text {
        font: "Roboto Condensed", Helvetica, sans-serif;
    } 
</style>

<div id="title" style="width: 1000px; height: 0px; font-family: 'Roboto Condensed';"></div>
<div id="container" style="position: relative; left: 0px; top : -50px; width: 600px; height: 550px;"></div>
<script>

    d3.select("#title").append("svg")
                .attr("width", 900)
                .attr("height", 50)
                .append("text")
                .attr("x", 70)             
                .attr("y", 40)
                .style("font", "Roboto Condensed")
                .style("font-size", "24px")
                .text("2013-14 Jumbo Grads in the World");

    d3.select("#title").append("svg")
                .attr("width", 900)
                .attr("height", 50)
                .append("text")
                .attr("x", 70)             
                .attr("y", 12)
                .attr("fill", "#989898")
                .style("font", "Roboto Condensed")
                .style("font-size", "14px")
                .text("International first outcomes of Tufts graduates (hover for statistics)");

    var map = new Datamap({
    data :
        {
        "EGY": {
            "most popular institution": "American University Egypt -Center for Study Abroad", 
            "most popular major": "International Relations", 
            "most popular city": "&nbsp;", 
            "most popular position": "Fellowship", 
            "number of grads": 2, 
            "fillKey": "1-4"
        }, 
        "NGA": {
            "most popular institution": "VIK Industries LTD", 
            "most popular major": "Economics", 
            "most popular city": "Lagos", 
            "most popular position": "Director", 
            "number of grads": 2, 
            "fillKey": "1-4"
        }, 
        "USA": {
            "most popular institution": "Tufts", 
            "most popular position": "Research Assistant", 
            "most popular city": "Boston", 
            "number of grads": 1966, 
            "most popular major": "International Relations",
            "fillKey": "20+"
        }, 
        "ISR": {
            "most popular institution": "Technion Israel - Med school", 
            "most popular major": "Biology", 
            "most popular city": "", 
            "most popular position": "Graduate Student", 
            "number of grads": 4, 
            "fillKey": "1-4"
        }, 
        "AZE": {
            "most popular institution": "Silk Way Airlines", 
            "most popular major": "International Relations", 
            "most popular city": "Baku", 
            "most popular position": "Handling and Logistics Coordinator", 
            "number of grads": 1, 
            "fillKey": "1-4"
        }, 
        "PER": {
            "most popular institution": "Sacred Valley Health", 
            "most popular major": "Biology", 
            "most popular city": "Not specified", 
            "most popular position": "Health Educator &amp; Community Educator", 
            "number of grads": 2, 
            "fillKey": "1-4"
        }, 
        "CAN": {
            "most popular institution": "McMaster", 
            "most popular major": "Biology", 
            "most popular city": "Hamilton", 
            "most popular position": "MD Candidate", 
            "number of grads": 2, 
            "fillKey": "1-4"
        }, 
        "JOR": {
            "most popular institution": "Open Society Foundations", 
            "most popular major": "German, Russian & Asian Languages/Literature", 
            "most popular city": "Amman", 
            "most popular position": "Intern", 
            "number of grads": 6, 
            "fillKey": "5-9"
        }, 
        "SGP": {
            "most popular institution": "DSPG", 
            "most popular major": "International Relations", 
            "most popular city": "Not specified", 
            "most popular position": "Community Executive", 
            "number of grads": 4, 
            "fillKey": "1-4"
        }, 
        "PRI": {
            "most popular institution": "Working on Documentary", 
            "most popular major": "Sociology", 
            "most popular city": "San Juan", 
            "most popular position": "Documentary", 
            "number of grads": 1, 
            "fillKey": "1-4"
        }, 
        "NLD": {
            "most popular institution": "Sandberg Instituut", 
            "most popular major": "Anthropology", 
            "most popular city": "Amsterdam", 
            "most popular position": "Master of Fine Arts", 
            "number of grads": 2, 
            "fillKey": "1-4"
        }, 
        "SEN": {
            "most popular institution": "Peace Corps", 
            "most popular major": "Community Health", 
            "most popular city": "Dakar", 
            "most popular position": "Fulbright ETA to Senegal", 
            "number of grads": 4, 
            "fillKey": "1-4"
        }, 
        "PRY": {
            "most popular institution": "Peace Corps", 
            "most popular major": "Womens, Gender and Sexuality Studies", 
            "most popular city": "Not specified", 
            "most popular position": "Volunteer", 
            "number of grads": 1, 
            "fillKey": "1-4"
        }, 
        "FRA": {
            "most popular institution": "Teaching Assistant Program in France", 
            "most popular major": "International Relations", 
            "most popular city": "Paris", 
            "most popular position": "Not specified", 
            "number of grads": 14, 
            "fillKey": "10-19"
        }, 
        "ESP": {
            "most popular institution": "UCETAM", 
            "most popular major": "International Relations", 
            "most popular city": "Madrid", 
            "most popular position": "English Teaching Auxiliary", 
            "number of grads": 15, 
            "fillKey": "10-19"
        }, 
        "CHN": {
            "most popular institution": "Cafe Deco Group", 
            "most popular major": "International Relations", 
            "most popular city": "Hong Kong", 
            "most popular position": "International Graduate-- Financial Markets", 
            "number of grads": 7, 
            "fillKey": "5-9"
        }, 
        "DEU": {
            "most popular institution": "Sullivan &amp; Cromwell", 
            "most popular major": "International Relations", 
            "most popular city": "Frankfurt", 
            "most popular position": "Legal Assistant", 
            "number of grads": 7, 
            "fillKey": "5-9"
        }, 
        "AUS": {
            "most popular institution": "University of Sydney", 
            "most popular major": "Anthropology", 
            "most popular city": "Sydney", 
            "most popular position": "PhD in Geology", 
            "number of grads": 4, 
            "fillKey": "1-4"
        }, 
        "IRL": {
            "most popular institution": "GordonMRM", 
            "most popular major": "History", 
            "most popular city": "Dublin", 
            "most popular position": "Intern", 
            "number of grads": 1, 
            "fillKey": "1-4"
        }, 
        "FIN": {
            "most popular institution": "University of Helsinki", 
            "most popular major": "Philosophy", 
            "most popular city": "Helsinki", 
            "most popular position": "Masters in Public Policy", 
            "number of grads": 2, 
            "fillKey": "1-4"
        }, 
        "KEN": {
            "most popular institution": "Refuge Point", 
            "most popular major": "Philosophy", 
            "most popular city": "Not specified", 
            "most popular position": "Communications Assistant", 
            "number of grads": 2, 
            "fillKey": "1-4"
        }, 
        "JPN": {
            "most popular institution": "JET Programme", 
            "most popular major": "German, Russian & Asian Languages/Literature", 
            "most popular city": "Nanto", 
            "most popular position": "", 
            "number of grads": 3, 
            "fillKey": "1-4"
        }, 
        "TUR": {
            "most popular institution": "Fulbright", 
            "most popular major": "International Relations", 
            "most popular city": "", 
            "most popular position": "Financial Analyst", 
            "number of grads": 2, 
            "fillKey": "1-4"
        }, 
        "HTI": {
            "most popular institution": "Community Chlorinators - The Archimedes Project", 
            "most popular major": "International Relations", 
            "most popular city": "Port-au-Prince", 
            "most popular position": "Co-Founder", 
            "number of grads": 1, 
            "fillKey": "1-4"
        }, 
        "ITA": {
            "most popular institution": "University of Pavia", 
            "most popular major": "Romance Languages (includes Italian Studies, Spanish)", 
            "most popular city": "Bologna", 
            "most popular position": "Graduate Student", 
            "number of grads": 2, 
            "fillKey": "1-4"
        }, 
        "NOR": {
            "most popular institution": "University of Oslo", 
            "most popular major": "German, Russian and Asian Languages/Literature", 
            "most popular city": "Oslo", 
            "most popular position": "MD Candidate", 
            "number of grads": 3, 
            "fillKey": "1-4"
        }, 
        "IND": {
            "most popular institution": "Hopemonkey", 
            "most popular major": "International Relations", 
            "most popular city": "Mumbai", 
            "most popular position": "Special Projects", 
            "number of grads": 7, 
            "fillKey": "5-9"
        }, 
        "MEX": {
            "most popular institution": "Credijusto", 
            "most popular major": "International Relations", 
            "most popular city": "Mexico City", 
            "most popular position": "Managing Director", 
            "number of grads": 3, 
            "fillKey": "1-4"
        }, 
        "BRA": {
            "most popular institution": "BrazilExpt", 
            "most popular major": "Anthropology", 
            "most popular city": "Sao Paulo", 
            "most popular position": "Brand Ambassador", 
            "number of grads": 3, 
            "fillKey": "1-4"
        }
    },
      element: document.getElementById('container'),
      geographyConfig: {
        popupTemplate: function(geography, data) {
          str ='<div style="border-radius:10px; padding: 10px; position: fixed; top: 350px; left: 220px; opacity: 0.85;" class="hoverinfo"><b><div style="font-size:20px">' 
          + geography.properties.name + '</div></b>' + "<br>";
          if (data) {
            str +=
            '<b>Reported # of grads:</b><span style="margin-left:57px">' +  data["number of grads"] + '</span><br>' +        
            '<b>Most popular field of study:</b><span style="margin-left:20px">' +  data["most popular major"] + '<br>' +
            '<b>Most popular position:</b><span style="margin-left:45px">' +  data["most popular position"] + '<br>' +
            '<b>Most popular destination:</b><span style="margin-left:30px">' +  data["most popular city"] + '<br>' +
            '<b>Most popular institution:</b><span style="margin-left:35px">' +  data["most popular institution"] + '<br>';
            } else {
            str +=
            '<b>Reported # of grads:</b><span style="margin-left:56px">N/A<br>' +        
            '<b>Most popular field of study:</b><span style="margin-left:20px">N/A<br>' +
            '<b>Most popular position:</b><span style="margin-left:45px">N/A<br>' +
            '<b>Most popular destination:</b><span style="margin-left:30px">N/A<br>' +
            '<b>Most popular institution:</b><span style="margin-left:35px">N/A<br>';
            }
            return str;
        }   

    },
      fills: {
            "0" : "#D9E5F3",
            "1-4": '#A0BEE0',
            "5-9": '#6797CD',
            "10-19": '#417DC1',
            "20+": '#34649A',
            defaultFill: '#D9E5F3'
        },
    });
    map.legend();

</script>